<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>test</title>
    <script>
      class MyCustomElement extends HTMLElement {
        constructor() {
          super();
          console.log("My Custom Element constructed!");
        }

        connectedCallback() {
          console.log("My Cusom Element added to DOM");
        }

        static get observedAttributes() {
          return ["demo"];
        }

        attributeChangedCallback(name, oldValue, newValue) {
          console.log("attribute changed!", name, oldValue, newValue);
        }

        disconnectedCallback() {
          console.log("My Custom Element removed from the DOM!");
        }
      }

      window.customElements.define("my-custom-element", MyCustomElement);
    </script>
  </head>

  <body>
    <my-custom-element></my-custom-element>
    <script>
      let $ce = document.createElement("my-custom-element");
      setTimeout(() => {
        document.body.appendChild($ce);
      }, 3000);
    </script>
  </body>

</html>
